!function(e){"use strict";function t(e){e.when("/",{templateUrl:"tmp/index.html",controller:"app.controller.index"}).when("/list",{templateUrl:"tmp/list.html",controller:"app.controller.list"}).when("/testDirective",{templateUrl:"tmp/testDirective.html",controller:"app.controller.test.directive"}).otherwise({redirectTo:"/"})}e.module("app",["ngRoute"]).config(["$routeProvider",t])}(window.angular),function(e){function t(){return{restrict:"EA",replace:!0,transclude:!0,template:"<div ng-transclude></div>",controller:function(){var t=[];this.gotOpened=function(n){e.forEach(t,function(e){n!=e&&(e.showMe=!1)})},this.addExpander=function(e){t.push(e)}}}}function n(){return{restrict:"EA",replace:!0,transclude:!0,require:"^?accordion",scope:{title:"=expanderTitle"},template:'<div><div class="title" ng-click="toggle()">{{title}}</div><div class="body" ng-show="showMe" ng-transclude></div></div>',link:function(e,t,n,r){e.showMe=!1,r.addExpander(e),e.toggle=function(){e.showMe=!e.showMe,r.gotOpened(e)}}}}e.module("app").directive("accordion",t).directive("expander",n)}(window.angular),function(e){function t(){return{restrict:"EAC",template:'<i style="color:red">*</i><span>error!</span>',transclude:!0}}e.module("app").directive("error",t)}(window.angular),function(e){"use strict";function t(e,t){e.userInfo=t.userInfo,e.search=function(){var n={name:e.name};t.search(n),e.$on("userInfo.update",function(n,r){console.log(r),e.error=!1,e.userInfo=t.userInfo}),e.$on("user.search.error",function(n){e.error=!0,e.userInfo=t.userInfo})}}e.module("app").controller("app.controller.index",["$scope","app.service.user",t])}(window.angular),function(e){"use strict";function t(e){e.title="hello liubang"}e.module("app").controller("app.controller.list",["$scope",t])}(window.angular),function(e){function t(e){e.expanders=[{title:"Click me to expand",text:"Hi there folks, I am the content that was hidden but is now shown."},{title:"Click this",text:"I am even better text than you have seen previously"},{title:"Test",text:"test"}]}e.module("app").controller("app.controller.test.directive",["$scope",t])}(window.angular),function(e){"use strict";function t(t){t.defaults.headers.post={"Content-Type":"application/x-www-form-urlencoded"},t.defaults.headers.get={"Content-Type":"application/x-www-form-urlencoded"},t.defaults.transformRequest=[function(t){var n=function(t){var r,o,i,c,s,l,a,u="";for(r in t)if(o=t[r],e.isArray(o))for(a=0;a<o.length;++a)s=o[a],i=r+"["+a+"]",l={},l[i]=s,u+=n(l)+"&";else if(e.isObject(o))for(c in o)s=o[c],null!==s&&(i=r+"."+c,l={},l[i]=s,u+=n(l)+"&");else void 0!==o&&(u+=encodeURIComponent(r)+"="+encodeURIComponent(o)+"&");return u.length?u.substr(0,u.length-1):u};return e.isObject(t)&&"[object File]"!==String(t)?n(t):t}]}function n(e,t){var n={userInfo:{},search:function(r){t({method:"post",url:"/home/index/search",data:r}).success(function(t){t.status?(n.userInfo=t.data,e.$broadcast("userInfo.update","终于弄好了")):(n.userInfo={},e.$broadcast("user.search.error"))}).error(function(t){n.userInfo={},e.$broadcast("user.search.error")})}};return n}e.module("app").config(["$httpProvider",t]).service("app.service.user",["$rootScope","$http",n])}(window.angular);